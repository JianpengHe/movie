<!DOCTYPE html>
<html>

<head>
  <meta name="viewport" content="initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="screen-orientation" content="portrait" />
  <meta name="x5-orientation" content="portrait" />
  <meta name="renderer" content="webkit" />
  <meta charset="utf-8" />
  <title>电影订票系统登录</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: rgb(248, 248, 248);
    }
    #list{
      display: flex;
      flex-direction: column;
    }
    .list{
      background-color: #fff;
      margin: 10px;
      padding: 15px;
      display: flex;
      flex-direction: column;
      border-radius: 10px;
    }
    .title{
      display: flex;
      justify-content: space-between;
      font-size: 14px;
      color: #555;

    }
    .body{
      display: flex;
      margin: 10px 0;
    }
    .body img{
      display: block;
      width: 84px;
            height: 130px;
    }
    .body>div{
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    margin: 15px;
    color: #555;
    font-size: 14px;
    line-height: 24px;
    }
    .filmName{
      font-size: 18px;
      color: #000;
    }
    hr{
      width: 100%;
    border-bottom: none;
    border-top: 1px solid rgba(50,50,50,0.5);
    }
    .total{
      text-align:right;
      font-size: 14px;
    }
  </style>
</head>

<body>
  <div id="list">
    <div class="list">我的订单</div>
    <div class="list">
      <div class="title">
        <div>电影院</div>
        <div>状态</div>
      </div>
      <div class="body">
        <img />
        <div>
          <div class="filmName">某电影</div>
          <div>9月4日 12:00<br />5号厅 6排8座</div>
        </div>
       
      </div>
      <hr />
       <div class="total">总价：100元</div>
    </div>
  </div>
</body>
<script>

  //  前端与服务器通信的API就是XMLHttpRequest
  var xhr = new XMLHttpRequest();        //  1.新建XMLHttpRequest对象
  xhr.open("POST", "/api/login");   //  2.打开要发送的地址通道  向服务器发出一个HTTP请求，这里是HTTP请求是post
  // xhr.send(JSON.stringify(obj));    // 3.如果没有要发送的内容直接send（） ，在向 web 服务器发送数据时，数据必须是字符串。通过 JSON.stringify()方法把js对象转换为Json字符串
  xhr.onreadystatechange = function () {   //  等待服务端做出回应。这时需要监控XMLHttpRequest对象的状态变化，指定回调函数。
    if (xhr.readyState == 4 && xhr.status == 200) { // xhr.readyState：XMLHttpRequest对象的状态，等于4表示数据已接收完毕。 
      console.log(xhr.response);       //  xhr.status：服务器返回的状态码，等于200表示一切正常。
      if (xhr.response === "登录成功") {
        location.href = "/"         // 如果登录成功跳转到首页
      } else {
        alert(xhr.response)    //  response(响应对象): 包含响应数据的具体操作
      }
    }
  };

</script>

</html>